<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Connected with Endpoints &mdash; Twisted 15.4.0 documentation</title>
    <link rel="stylesheet" href="../../_static/twistedtrac.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '15.4.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Twisted 15.4.0 documentation" href="../../index.html" />
    <link rel="up" title="Developer Guides" href="index.html" />
    <link rel="next" title="Components: Interfaces and Adapters" href="components.html" />
    <link rel="prev" title="Choosing a Reactor and GUI Toolkit Integration" href="choosing-reactor.html" /> 
    
<!-- Can stuff between these comments go? -->
        <link rel="search" href="/trac/search" />
        <link rel="help" href="/trac/wiki/TracGuide" />
        <link rel="alternate" href="/trac/wiki/Documentation?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="/trac/wiki" />

        
    <script type="text/javascript" src="/trac/chrome/common/js/jquery.js"></script><script type="text/javascript" src="/trac/chrome/common/js/trac.js"></script><script type="text/javascript" src="/trac/chrome/common/js/search.js"></script>
    
    <!-- the following script tag is a holdover frome Trac, which shouldn't be needed in Sphinx
    <script type="text/javascript">
      $(document).ready(function() {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    -->
<!-- Can stuff between these comments go? -->

  </head>
  
  
<body>

<div id="banner">
<div id="top_grad">
         
</div>
<div id="tab">
        <a href="http://twistedmatrix.com/trac/wiki">HOME</a>
    <a href="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
    <a href="/">DOCS</a>
    <a href="http://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>

</div>
      <div id="header">
        <a id="logo" href="http://twistedmatrix.com/trac/"><img src="../../_static/trac_banner.png" alt="Twisted" /></a>
      </div>
      <!-- taking this out for now, but might use 
           the space for something else later 
      -->
      <!--
      <form id="topsearch" action="/trac/search" method="get"><div>
        <label for="proj-search">Search:</label>
        <input type="text" id="proj-search" name="q" size="10" value="" />
        <input type="submit" value="Search" />
        <input type="hidden" name="wiki" value="on" />

        <input type="hidden" name="changeset" value="on" />
        <input type="hidden" name="ticket" value="on" />
      </div></form>
      -->
      <div id="metanav" class="nav">
    <ul>
      <li> </li>
      <!-- taking this out for now, but might use 
           the space for something else later 
      -->
      <!--
      <li class="first">logged in as khorn</li><li class=""><a href="/trac/logout">Logout</a></li><li class=""><a href="/trac/wiki/TracGuide">Help/Guide</a></li><li class=""><a href="/trac/about">About Trac</a></li><li class="last"><a href="/trac/account">My Account</a></li>
      -->
    </ul>
  </div>
    </div>

<!-- mainnav -->
    <div id="mainnav" class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="components.html" title="Components: Interfaces and Adapters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="choosing-reactor.html" title="Choosing a Reactor and GUI Toolkit Integration"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Twisted 15.4.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Twisted Core</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer Guides</a> &raquo;</li> 
      </ul>
    </div>

    <div id="main">
    <div id="ctxtnav" class="nav">
      <h2>Wiki Navigation</h2>
      <ul>
        <li>
        
        </li>
        <!-- taking this out for now, but might use 
             the space for something else later 
        -->
        <!--
        <li><a href="/trac/wiki/WikiStart">Start Page</a></li>
        <li><a href="/trac/wiki/TitleIndex">Index by Title</a></li>

        <li><a href="/trac/wiki/RecentChanges">Index by Date</a></li>
        <li class="last">
          <a href="/trac/wiki/Documentation?action=diff&amp;version=15">Last Change</a>
        </li>
        -->
      </ul>
      <hr />
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div id="current-docs-container" style="display: none">
            <em>
              <a id="current-docs-link">
                Go to the latest version of this document.
              </a>
            </em>
          </div>
          <div class="body">
            
  <div class="section" id="getting-connected-with-endpoints">
<h1>Getting Connected with Endpoints<a class="headerlink" href="#getting-connected-with-endpoints" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>On a network, one can think of any given connection as a long wire, stretched between two points.
Lots of stuff can happen along the length of that wire - routers, switches, network address translation, and so on, but that is usually invisible to the application passing data across it.
Twisted strives to make the nature of the &#8220;wire&#8221; as transparent as possible, with highly abstract interfaces for passing and receiving data, such as <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.ITransport.html">ITransport</a> and <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IProtocol.html">IProtocol</a>.</p>
<p>However, the application can&#8217;t be completely ignorant of the wire.
In particular, it must do something to <em>start</em> the connection, and
to do so, it must identify the <em>end points</em> of the wire. There are
different names for the roles of each end point - &#8220;initiator&#8221; and
&#8220;responder&#8221;, &#8220;connector&#8221; and &#8220;listener&#8221;, or &#8220;client&#8221; and &#8220;server&#8221; - but the
common theme is that one side of the connection waits around for someone to
connect to it, and the other side does the connecting.</p>
<p>In Twisted 10.1, several new interfaces were introduced to describe each of these roles for stream-oriented connections: <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamServerEndpoint.html">IStreamServerEndpoint</a> and <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamClientEndpoint.html">IStreamClientEndpoint</a>.
The word &#8220;stream&#8221;, in this case, refers to endpoints which treat a connection as a continuous stream of bytes, rather than a sequence of discrete datagrams:
TCP is a &#8220;stream&#8221; protocol whereas UDP is a &#8220;datagram&#8221; protocol.</p>
</div>
<div class="section" id="constructing-and-using-endpoints">
<h2>Constructing and Using Endpoints<a class="headerlink" href="#constructing-and-using-endpoints" title="Permalink to this headline">¶</a></h2>
<p>In both <a class="reference internal" href="servers.html"><span class="doc">Writing Servers</span></a> and <a class="reference internal" href="clients.html"><span class="doc">Writing Clients</span></a>, we covered basic usage of endpoints;
you construct an appropriate type of server or client endpoint, and then call <code class="docutils literal"><span class="pre">listen</span></code> (for servers) or <code class="docutils literal"><span class="pre">connect</span></code> (for clients).</p>
<p>In both of those tutorials, we constructed specific types of endpoints directly.
However, in most programs, you will want to allow the user to specify where to listen or connect, in a way which will allow the user to request different strategies, without having to adjust your program.
In order to allow this, you should use <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.clientFromString.html">clientFromString</a> or <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.serverFromString.html">serverFromString</a>.</p>
<div class="section" id="there-s-not-much-to-it">
<h3>There&#8217;s Not Much To It<a class="headerlink" href="#there-s-not-much-to-it" title="Permalink to this headline">¶</a></h3>
<p>Each type of endpoint is just an interface with a single method that
takes an argument. <code class="docutils literal"><span class="pre">serverEndpoint.listen(factory)</span></code> will start
listening on that endpoint with your protocol factory, and <code class="docutils literal"><span class="pre">clientEndpoint.connect(factory)</span></code> will start a single connection
attempt. Each of these APIs returns a value, though, which can be important.</p>
<p>However, if you are not already, you <em>should</em> be very familiar with <a class="reference internal" href="defer.html"><span class="doc">Deferreds</span></a>, as they are returned by both <code class="docutils literal"><span class="pre">connect</span></code> and <code class="docutils literal"><span class="pre">listen</span></code> methods, to indicate when the connection has connected or the listening port is up and running.</p>
</div>
<div class="section" id="servers-and-stopping">
<h3>Servers and Stopping<a class="headerlink" href="#servers-and-stopping" title="Permalink to this headline">¶</a></h3>
<p><a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamServerEndpoint.listen.html">IStreamServerEndpoint.listen</a> returns a <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.defer.Deferred.html">Deferred</a> that fires with an <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IListeningPort.html">IListeningPort</a>.
Note that this deferred may errback.
The most common cause of such an error would be that another program is already using the requested port number, but the exact cause may vary depending on what type of endpoint you are listening on.
If you receive such an error, it means that your application is not actually listening, and will not receive any incoming connections.
It&#8217;s important to somehow alert an administrator of your server, in this case, especially if you only have one listening port!</p>
<p>Note also that once this has succeeded, it will continue listening forever.
If you need to <em>stop</em> listening for some reason, in response to anything other than a full server shutdown (<code class="docutils literal"><span class="pre">reactor.stop</span></code> and / or <code class="docutils literal"><span class="pre">twistd</span></code> will usually handle that case for you), make sure you keep a reference around to that listening port object so you can call <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IListeningPort.stopListening.html">IListeningPort.stopListening</a> on it.
Finally, keep in mind that <code class="docutils literal"><span class="pre">stopListening</span></code> itself returns a <code class="docutils literal"><span class="pre">Deferred</span></code>, and the port may not have fully stopped listening until that <code class="docutils literal"><span class="pre">Deferred</span></code> has fired.</p>
<p>Most server applications will not need to worry about these details.
One example of a case where you would need to be concerned with all of these events would be an implementation of a protocol like non-<code class="docutils literal"><span class="pre">PASV</span></code> FTP, where new listening ports need to be bound for the lifetime of a particular action, then disposed of.</p>
</div>
<div class="section" id="clients-and-cancelling">
<h3>Clients and Cancelling<a class="headerlink" href="#clients-and-cancelling" title="Permalink to this headline">¶</a></h3>
<p><a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.connectProtocol.html">connectProtocol</a> connects a <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.protocol.Protocol.html">Protocol</a> instance to a given <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamClientEndpoint.html">IStreamClientEndpoint</a>. It returns a <code class="docutils literal"><span class="pre">Deferred</span></code> which fires with the <code class="docutils literal"><span class="pre">Protocol</span></code> once the connection has been made.
Connection attempts may fail, and so that <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.defer.Deferred.html">Deferred</a> may also errback.
If it does so, you will have to try again; no further attempts will be made.
See the <a class="reference internal" href="clients.html"><span class="doc">client documentation</span></a> for an example use.</p>
<p><a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.connectProtocol.html">connectProtocol</a> is a wrapper around a lower-level API:
<a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamClientEndpoint.connect.html">IStreamClientEndpoint.connect</a> will use a protocol factory for a new outgoing connection attempt.
It returns a <code class="docutils literal"><span class="pre">Deferred</span></code> which fires with the <code class="docutils literal"><span class="pre">IProtocol</span></code> returned from the factory&#8217;s <code class="docutils literal"><span class="pre">buildProtocol</span></code> method, or errbacks with the connection failure.</p>
<p>Connection attempts may also take a long time, and your users may become bored and wander off.
If this happens, and your code decides, for whatever reason, that you&#8217;ve been waiting for the connection too long, you can call <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.defer.Deferred.cancel.html">Deferred.cancel</a> on the <code class="docutils literal"><span class="pre">Deferred</span></code> returned from <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IStreamClientEndpoint.connect.html">connect</a> or <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.connectProtocol.html">connectProtocol</a>, and the underlying machinery should give up on the connection.
This should cause the <code class="docutils literal"><span class="pre">Deferred</span></code> to errback, usually with <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.defer.CancelledError.html">CancelledError</a>;
although you should consult the documentation for your particular endpoint type to see if it may do something different.</p>
<p>Although some endpoint types may imply a built-in timeout, the
interface does not guarantee one. If you don&#8217;t have any way for the
application to cancel a wayward connection attempt, the attempt may just
keep waiting forever.  For example, a very simple 30-second timeout could be
implemented like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">attempt</span> <span class="o">=</span> <span class="n">connectProtocol</span><span class="p">(</span><span class="n">myEndpoint</span><span class="p">,</span> <span class="n">myProtocol</span><span class="p">)</span>
<span class="n">reactor</span><span class="o">.</span><span class="n">callLater</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">attempt</span><span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;ve used <code class="docutils literal"><span class="pre">ClientFactory</span></code> before, keep in mind that the <code class="docutils literal"><span class="pre">connect</span></code> method takes a <code class="docutils literal"><span class="pre">Factory</span></code>, not a <code class="docutils literal"><span class="pre">ClientFactory</span></code>.
Even if you pass a <code class="docutils literal"><span class="pre">ClientFactory</span></code> to <code class="docutils literal"><span class="pre">endpoint.connect</span></code>, its <code class="docutils literal"><span class="pre">clientConnectionFailed</span></code> and <code class="docutils literal"><span class="pre">clientConnectionLost</span></code> methods will not be called.</p>
</div>
</div>
</div>
<div class="section" id="maximizing-the-return-on-your-endpoint-investment">
<h2>Maximizing the Return on your Endpoint Investment<a class="headerlink" href="#maximizing-the-return-on-your-endpoint-investment" title="Permalink to this headline">¶</a></h2>
<p>Directly constructing an endpoint in your application is rarely the
best option, because it ties your application to a particular type of
transport. The strength of the endpoints API is in separating the
construction of the endpoint (figuring out where to connect or listen) and
its activation (actually connecting or listening).</p>
<p>If you are implementing a library that needs to listen for
connections or make outgoing connections, when possible, you should write
your code to accept client and server endpoints as parameters to functions
or to your objects&#8217; constructors. That way, application code that calls
your library can provide whatever endpoints are appropriate.</p>
<p>If you are writing an application and you need to construct endpoints yourself, you can allow users to specify arbitrary endpoints described by a string using the <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.clientFromString.html">clientFromString</a> and <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.endpoints.serverFromString.html">serverFromString</a> APIs.
Since these APIs just take a string, they provide flexibility:
if Twisted adds support for new types of endpoints (for example, IPv6 endpoints, or WebSocket endpoints), your application will automatically be able to take advantage of them with no changes to its code.</p>
<div class="section" id="endpoints-aren-t-always-the-answer">
<h3>Endpoints Aren&#8217;t Always the Answer<a class="headerlink" href="#endpoints-aren-t-always-the-answer" title="Permalink to this headline">¶</a></h3>
<p>For many use-cases, especially the common case of a <code class="docutils literal"><span class="pre">twistd</span></code> plugin which runs a long-running server that just binds a simple port, you might not want to use the endpoints APIs directly.
Instead, you may want to construct an <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.application.service.IService.html">IService</a>, using <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.application.strports.service.html">strports.service</a>, which will fit neatly into the required structure of <a class="reference internal" href="plugin.html"><span class="doc">the twistd plugin API</span></a>.
This doesn&#8217;t give your application much control - the port starts listening at startup and stops listening at shutdown - but it does provide the same flexibility in terms of what type of server endpoint your application will support.</p>
<p>It is, however, almost always preferable to use an endpoint rather than calling a lower-level APIs like <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IReactorTCP.connectTCP.html">connectTCP</a>, <a class="api reference external" href="https://twistedmatrix.com/documents/15.4.0/api/twisted.internet.interfaces.IReactorTCP.listenTCP.html">listenTCP</a>, etc, directly.
By accepting an arbitrary endpoint rather than requiring a specific reactor interface, you leave your application open to lots of interesting transport-layer extensibility for the future.</p>
</div>
</div>
<div class="section" id="endpoint-types-included-with-twisted">
<h2>Endpoint Types Included With Twisted<a class="headerlink" href="#endpoint-types-included-with-twisted" title="Permalink to this headline">¶</a></h2>
<p>The parser used by <code class="docutils literal"><span class="pre">clientFromString</span></code> and <code class="docutils literal"><span class="pre">serverFromString</span></code> is extensible via third-party plugins, so the endpoints available on your system depend on what packages you have installed.
However, Twisted itself includes a set of basic endpoints that will always be available.</p>
<div class="section" id="clients">
<h3>Clients<a class="headerlink" href="#clients" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>TCP</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">host</span></code>, <code class="docutils literal"><span class="pre">port</span></code>, <code class="docutils literal"><span class="pre">timeout</span></code>.
<code class="docutils literal"><span class="pre">timeout</span></code> is optional.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">tcp:host=twistedmatrix.com:port=80:timeout=15</span></code>.</p>
</dd>
<dt>SSL</dt>
<dd><p class="first">All TCP arguments are supported, plus: <code class="docutils literal"><span class="pre">certKey</span></code>, <code class="docutils literal"><span class="pre">privateKey</span></code>, <code class="docutils literal"><span class="pre">caCertsDir</span></code>.
<code class="docutils literal"><span class="pre">certKey</span></code> (optional) gives a filesystem path to a certificate (PEM format).
<code class="docutils literal"><span class="pre">privateKey</span></code> (optional) gives a filesystem path to a private key (PEM format).
<code class="docutils literal"><span class="pre">caCertsDir</span></code> (optional) gives a filesystem path to a directory containing trusted CA certificates to use to verify the server certificate.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">ssl:host=twistedmatrix.com:port=443:caCertsDir=/etc/ssl/certs</span></code> .</p>
</dd>
<dt>UNIX</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">path</span></code>, <code class="docutils literal"><span class="pre">timeout</span></code>, <code class="docutils literal"><span class="pre">checkPID</span></code>.
<code class="docutils literal"><span class="pre">path</span></code> gives a filesystem path to a listening UNIX domain socket server.
<code class="docutils literal"><span class="pre">checkPID</span></code> (optional) enables a check of the lock file Twisted-based UNIX domain socket servers use to prove they are still running.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">unix:path=/var/run/web.sock</span></code>.</p>
</dd>
<dt>TCP (Hostname)</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">host</span></code>, <code class="docutils literal"><span class="pre">port</span></code>, <code class="docutils literal"><span class="pre">timeout</span></code>.
<code class="docutils literal"><span class="pre">host</span></code> is a hostname to connect to.
<code class="docutils literal"><span class="pre">timeout</span></code> is optional.
It is a name-based TCP endpoint that returns the connection which is established first amongst the resolved addresses.</p>
<p>For example,</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">endpoint</span> <span class="o">=</span> <span class="n">HostnameEndpoint</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="s">&quot;twistedmatrix.com&quot;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Factory</span><span class="o">.</span><span class="n">forProtocol</span><span class="p">(</span><span class="n">Protocol</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="servers">
<h3>Servers<a class="headerlink" href="#servers" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>TCP (IPv4)</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">port</span></code>, <code class="docutils literal"><span class="pre">interface</span></code>, <code class="docutils literal"><span class="pre">backlog</span></code>.
<code class="docutils literal"><span class="pre">interface</span></code> and <code class="docutils literal"><span class="pre">backlog</span></code> are optional.
<code class="docutils literal"><span class="pre">interface</span></code> is an IP address (belonging to the IPv4 address family) to bind to.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">tcp:port=80:interface=192.168.1.1</span></code>.</p>
</dd>
<dt>TCP (IPv6)</dt>
<dd><p class="first">All TCP (IPv4) arguments are supported, with <code class="docutils literal"><span class="pre">interface</span></code> taking an IPv6 address literal instead.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">tcp6:port=80:interface=2001\:0DB8\:f00e\:eb00\:\:1</span></code>.</p>
</dd>
<dt>SSL</dt>
<dd><p class="first">All TCP arguments are supported, plus: <code class="docutils literal"><span class="pre">certKey</span></code>, <code class="docutils literal"><span class="pre">privateKey</span></code>, <code class="docutils literal"><span class="pre">extraCertChain</span></code>, <code class="docutils literal"><span class="pre">sslmethod</span></code>, and <code class="docutils literal"><span class="pre">dhParameters</span></code>.
<code class="docutils literal"><span class="pre">certKey</span></code> (optional, defaults to the value of privateKey) gives a filesystem path to a certificate (PEM format).
<code class="docutils literal"><span class="pre">privateKey</span></code> gives a filesystem path to a private key (PEM format).
<code class="docutils literal"><span class="pre">extraCertChain</span></code> gives a filesystem path to a file with one or more concatenated certificates in PEM format that establish the chain from a root CA to the one that signed your certificate.
<code class="docutils literal"><span class="pre">sslmethod</span></code> indicates which SSL/TLS version to use (a value like <code class="docutils literal"><span class="pre">TLSv1_METHOD</span></code>).
<code class="docutils literal"><span class="pre">dhParameters</span></code> gives a filesystem path to a file in PEM format with parameters that are required for Diffie-Hellman key exchange.
Since the this is required for the <code class="docutils literal"><span class="pre">DHE</span></code>-family of ciphers that offer perfect forward secrecy (PFS), it is recommended to specify one.
Such a file can be created using <code class="docutils literal"><span class="pre">openssl</span> <span class="pre">dhparam</span> <span class="pre">-out</span> <span class="pre">dh_param_1024.pem</span> <span class="pre">-2</span> <span class="pre">1024</span></code>.
Please refer to <a class="reference external" href="http://www.openssl.org/docs/apps/dhparam.html">OpenSSL&#8217;s documentation on dhparam</a> for further details.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">ssl:port=443:privateKey=/etc/ssl/server.pem:extraCertChain=/etc/ssl/chain.pem:sslmethod=SSLv3_METHOD:dhParameters=dh_param_1024.pem</span></code>.</p>
</dd>
<dt>UNIX</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">address</span></code>, <code class="docutils literal"><span class="pre">mode</span></code>, <code class="docutils literal"><span class="pre">backlog</span></code>, <code class="docutils literal"><span class="pre">lockfile</span></code>.
<code class="docutils literal"><span class="pre">address</span></code> gives a filesystem path to listen on with a UNIX domain socket server.
<code class="docutils literal"><span class="pre">mode</span></code> (optional) gives the filesystem permission/mode (in octal) to apply to that socket.
<code class="docutils literal"><span class="pre">lockfile</span></code> enables use of a separate lock file to prove the server is still running.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">unix:address=/var/run/web.sock:lockfile=1</span></code>.</p>
</dd>
<dt>systemd</dt>
<dd><p class="first">Supported arguments: <code class="docutils literal"><span class="pre">domain</span></code>, <code class="docutils literal"><span class="pre">index</span></code>.
<code class="docutils literal"><span class="pre">domain</span></code> indicates which socket domain the inherited file descriptor belongs to (eg INET, INET6).
<code class="docutils literal"><span class="pre">index</span></code> indicates an offset into the array of file descriptors which have been inherited from systemd.</p>
<p>For example, <code class="docutils literal"><span class="pre">systemd:domain=INET6:index=3</span></code>.</p>
<p class="last">See also <a class="reference internal" href="systemd.html"><span class="doc">Deploying Twisted with systemd</span></a>.</p>
</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Getting Connected with Endpoints</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#constructing-and-using-endpoints">Constructing and Using Endpoints</a><ul>
<li><a class="reference internal" href="#there-s-not-much-to-it">There&#8217;s Not Much To It</a></li>
<li><a class="reference internal" href="#servers-and-stopping">Servers and Stopping</a></li>
<li><a class="reference internal" href="#clients-and-cancelling">Clients and Cancelling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#maximizing-the-return-on-your-endpoint-investment">Maximizing the Return on your Endpoint Investment</a><ul>
<li><a class="reference internal" href="#endpoints-aren-t-always-the-answer">Endpoints Aren&#8217;t Always the Answer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#endpoint-types-included-with-twisted">Endpoint Types Included With Twisted</a><ul>
<li><a class="reference internal" href="#clients">Clients</a></li>
<li><a class="reference internal" href="#servers">Servers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="choosing-reactor.html"
                                  title="previous chapter">Choosing a Reactor and GUI Toolkit Integration</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="components.html"
                                  title="next chapter">Components: Interfaces and Adapters</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/core/howto/endpoints.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <p>
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                </p>
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    </div>
    <div id="footer"><hr />
      <div>

</div>
      <p class="left2">
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

      </p>
      <p class="right"></p>
    </div>
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
          <!-- Give the user a link to this page, but in the current version of the docs. -->
          var link = document.getElementById('current-docs-link');
          link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+/, '/current');
          <!-- And make it visible -->
          var container = document.getElementById('current-docs-container');
          container.style.display = '';
          delete link;
          delete container;
      }
    </script>
  </body>
</html>